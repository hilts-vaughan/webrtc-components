var VideoStream = (function () {
    function VideoStream() {
        this._stream = null;
    }
    VideoStream.prototype.getStream = function (needVideo, needAudio, c) {
        if (this._stream == null) {
            var nav = navigator;
            nav.getUserMedia({
                video: needVideo,
                audio: needAudio
            }, function (s) {
                this._stream = s;
                c(s);
            }, function () { console.log('stream fetch failed.'); });
        }
        else {
            c(this._stream);
        }
    };
    return VideoStream;
})();
exports.VideoStream = VideoStream;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VzL1ZpZGVvU3RyZWFtLnRzIl0sIm5hbWVzIjpbIlZpZGVvU3RyZWFtIiwiVmlkZW9TdHJlYW0uY29uc3RydWN0b3IiLCJWaWRlb1N0cmVhbS5nZXRTdHJlYW0iXSwibWFwcGluZ3MiOiJBQUFBO0lBQUFBO1FBQ1NDLFlBQU9BLEdBQVNBLElBQUlBLENBQUNBO0lBaUI5QkEsQ0FBQ0E7SUFmQUQsK0JBQVNBLEdBQVRBLFVBQVVBLFNBQW1CQSxFQUFFQSxTQUFtQkEsRUFBRUEsQ0FBWUE7UUFDL0RFLEVBQUVBLENBQUFBLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLElBQUlBLElBQUlBLENBQUNBLENBQUNBLENBQUNBO1lBQ3pCQSxJQUFJQSxHQUFHQSxHQUFTQSxTQUFTQSxDQUFDQTtZQUMxQkEsR0FBR0EsQ0FBQ0EsWUFBWUEsQ0FBQ0E7Z0JBQ2hCQSxLQUFLQSxFQUFFQSxTQUFTQTtnQkFDaEJBLEtBQUtBLEVBQUVBLFNBQVNBO2FBQ2hCQSxFQUFFQSxVQUFTQSxDQUFDQTtnQkFDWixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztnQkFDakIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ04sQ0FBQyxFQUFFQSxjQUFZLE9BQU8sQ0FBQyxHQUFHLENBQUMsc0JBQXNCLENBQUMsQ0FBQSxDQUFBLENBQUMsQ0FBQ0EsQ0FBQ0E7UUFDdERBLENBQUNBO1FBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ1BBLENBQUNBLENBQUNBLElBQUlBLENBQUNBLE9BQU9BLENBQUNBLENBQUNBO1FBQ2pCQSxDQUFDQTtJQUNGQSxDQUFDQTtJQUVGRixrQkFBQ0E7QUFBREEsQ0FsQkEsQUFrQkNBLElBQUE7QUFsQlksbUJBQVcsY0FrQnZCLENBQUEiLCJmaWxlIjoic2VydmljZXMvVmlkZW9TdHJlYW0uanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVmlkZW9TdHJlYW0ge1xuXHRwcml2YXRlIF9zdHJlYW0gOiBhbnkgPSBudWxsO1xuXHRcblx0Z2V0U3RyZWFtKG5lZWRWaWRlbyA6IGJvb2xlYW4sIG5lZWRBdWRpbyA6IGJvb2xlYW4sIGMgOiBGdW5jdGlvbikgOiB2b2lkIHtcblx0XHRpZih0aGlzLl9zdHJlYW0gPT0gbnVsbCkge1xuXHRcdFx0dmFyIG5hdiA6IGFueSA9IG5hdmlnYXRvcjtcblx0XHRcdG5hdi5nZXRVc2VyTWVkaWEoe1xuXHRcdFx0XHR2aWRlbzogbmVlZFZpZGVvLFxuXHRcdFx0XHRhdWRpbzogbmVlZEF1ZGlvXG5cdFx0XHR9LCBmdW5jdGlvbihzKSB7XG5cdFx0XHRcdHRoaXMuX3N0cmVhbSA9IHM7XG5cdFx0XHRcdGMocyk7XHRcdFx0XHRcblx0XHRcdH0sIGZ1bmN0aW9uKCkge2NvbnNvbGUubG9nKCdzdHJlYW0gZmV0Y2ggZmFpbGVkLicpfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGModGhpcy5fc3RyZWFtKTtcblx0XHR9XHRcblx0fVxuXHRcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=